!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","prop-types","react","react-dom"],t):t(e["react-currency-input"]={},e.PropTypes,e.React,e.ReactDOM)}(this,function(e,t,n,d){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var i="default"in n?n.default:n;function o(e,t,n,i,a,o,r){if(void 0===t&&(t=2),void 0===n&&(n="."),void 0===i&&(i=","),void 0===a&&(a=!1),void 0===o&&(o=""),void 0===r&&(r=""),t<0&&(t=0),20<t&&(t=20),null==e)return{value:0,maskedValue:""};if(0==(e=String(e)).length)return{value:0,maskedValue:""};var s=e.match(/\d/g)||["0"],p=!1;if(a){p=(e.match(/-/g)||[]).length%2==1;for(var l=!0,u=0;u<s.length;u+=1)if("0"!==s[u]){l=!1;break}l&&(p=!1)}for(;s.length<=t;)s.unshift("0");0<t&&s.splice(s.length-t,0,"."),s=Number(s.join("")).toFixed(t).split("");var h=Number(s.join("")),c=s.length-t-1;0<t?s[c]=n:c=s.length;for(var d=c-3;0<d;d-=3)s.splice(d,0,i);return 0<o.length&&s.unshift(o),0<r.length&&s.push(r),a&&p&&(s.unshift("-"),h=-h),{value:h,maskedValue:s.join("").trim()}}d=d&&d.hasOwnProperty("default")?d.default:d,Number.parseFloat=parseFloat;var a=function(t){function e(e){t.call(this,e),this.prepareProps=this.prepareProps.bind(this),this.handleChange=this.handleChange.bind(this),this.handleFocus=this.handleFocus.bind(this),this.state=this.prepareProps(this.props),this.inputSelectionStart=0,this.inputSelectionEnd=0}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.getMaskedValue=function(){return this.state.maskedValue},e.prototype.prepareProps=function(e){var t=Object.assign({},e);delete t.onChange,delete t.onChangeEvent,delete t.value,delete t.decimalSeparator,delete t.thousandSeparator,delete t.precision,delete t.inputType,delete t.allowNegative,delete t.allowEmpty,delete t.prefix,delete t.suffix,delete t.autoFocus;var n=e.value,i=o(n=null===n?e.allowEmpty?null:"":("string"==typeof n&&("."===e.thousandSeparator&&(n=n.replace(/\./g,"")),"."!=e.decimalSeparator&&(n=n.replace(new RegExp(e.decimalSeparator,"g"),".")),n=n.replace(/[^0-9-.]/g,""),n=Number.parseFloat(n)),Number(n).toLocaleString(void 0,{style:"decimal",minimumFractionDigits:e.precision,maximumFractionDigits:e.precision})),e.precision,e.decimalSeparator,e.thousandSeparator,e.allowNegative,e.prefix,e.suffix);return{maskedValue:i.maskedValue,value:i.value,customProps:t}},e.prototype.componentWillReceiveProps=function(e){this.setState(this.prepareProps(e))},e.prototype.componentDidMount=function(){var e=d.findDOMNode(this.theInput),t=Math.min(e.selectionEnd,this.theInput.value.length-this.props.suffix.length),n=Math.min(e.selectionStart,t);e.setSelectionRange(n,t)},e.prototype.componentWillUpdate=function(){var e=d.findDOMNode(this.theInput);this.inputSelectionStart=e.selectionStart,this.inputSelectionEnd=e.selectionEnd},e.prototype.componentDidUpdate=function(e,t){var n=d.findDOMNode(this.theInput),i=(this.theInput.value.match(/-/g)||[]).length%2==1,a=this.props.prefix.length+(i?1:0),o=Math.max(a,Math.min(this.inputSelectionEnd,this.theInput.value.length-this.props.suffix.length)),r=Math.max(a,Math.min(this.inputSelectionEnd,o)),s=/[-[\]{}()*+?.,\\^$|#\s]/g,p=new RegExp(this.props.decimalSeparator.replace(s,"\\$&")+"|"+this.props.thousandSeparator.replace(s,"\\$&"),"g"),l=(this.state.maskedValue.match(p)||[]).length,u=(t.maskedValue.match(p)||[]).length,h=Math.max(l-u,0);o+=h,r+=h;var c=this.props.suffix.length+this.props.prefix.length+this.props.decimalSeparator.length+Number(this.props.precision)+1;this.state.maskedValue.length==c&&(r=o=this.theInput.value.length-this.props.suffix.length),n.setSelectionRange(r,o),this.inputSelectionStart=r,this.inputSelectionEnd=o},e.prototype.handleChange=function(e){var t=this;e.preventDefault();var n=o(e.target.value,this.props.precision,this.props.decimalSeparator,this.props.thousandSeparator,this.props.allowNegative,this.props.prefix,this.props.suffix),i=n.maskedValue,a=n.value;e.persist(),this.setState({maskedValue:i,value:a},function(){t.props.onChange(i,a,e),t.props.onChangeEvent(e,i,a)})},e.prototype.handleFocus=function(e){var t=this.theInput.value.length-this.props.suffix.length,n=(this.theInput.value.match(/-/g)||[]).length%2==1,i=this.props.prefix.length+(n?1:0);e.target.setSelectionRange(i,t),this.inputSelectionStart=i,this.inputSelectionEnd=t},e.prototype.handleBlur=function(e){this.inputSelectionStart=0,this.inputSelectionEnd=0},e.prototype.render=function(){var t=this;return i.createElement("input",Object.assign({},{ref:function(e){t.theInput=e},autoFocus:this.props.autoFocus,type:this.props.inputType,value:this.state.maskedValue,onChange:this.handleChange,onFocus:this.handleFocus,onMouseUp:this.handleFocus},this.state.customProps))},e}(n.Component);a.propTypes={onChange:t.func,value:t.oneOfType([t.number,t.string]),decimalSeparator:t.string,thousandSeparator:t.string,precision:t.oneOfType([t.number,t.string]),inputType:t.string,allowNegative:t.bool,allowEmpty:t.bool,prefix:t.string,suffix:t.string},a.defaultProps={onChange:function(e,t,n){},onChangeEvent:function(e,t,n){},value:"0",decimalSeparator:".",thousandSeparator:",",precision:"2",inputType:"text",allowNegative:!1,prefix:"",suffix:""},e.default=a,e.mask=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=react-currency-input.min.js.map
